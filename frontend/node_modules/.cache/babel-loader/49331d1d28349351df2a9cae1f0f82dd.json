{"remainingRequest":"/Users/JCHAN/Documents/cs191/GetUP/frontend/node_modules/thread-loader/dist/cjs.js!/Users/JCHAN/Documents/cs191/GetUP/frontend/node_modules/babel-loader/lib/index.js!/Users/JCHAN/Documents/cs191/GetUP/frontend/src/store.js","dependencies":[{"path":"/Users/JCHAN/Documents/cs191/GetUP/frontend/src/store.js","mtime":1579640385341},{"path":"/Users/JCHAN/Documents/cs191/GetUP/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1554782857632},{"path":"/Users/JCHAN/Documents/cs191/GetUP/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1573034711551},{"path":"/Users/JCHAN/Documents/cs191/GetUP/frontend/node_modules/babel-loader/lib/index.js","mtime":1560492625661}],"contextDependencies":[],"result":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport axios from \"axios\";\nimport router from \"@/router\";\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    workouts: null,\n    workout: null,\n    token: localStorage.getItem(\"token\"),\n    firstName: localStorage.getItem(\"firstName\"),\n    loggedIn: localStorage.getItem(\"token\") ? true : false,\n    admin: localStorage.getItem(\"admin\") ? localStorage.getItem(\"admin\") : false\n  },\n  mutations: {\n    add_review(state, data) {\n      var review = data.review;\n      var workoutId = data.workoutId;\n\n      for (var i = 0; i < state.workouts.length; i++) {\n        if (state.workouts[i].id != workoutId) {\n          continue;\n        }\n\n        state.workouts[i].reviews.push(review);\n        break;\n      }\n    },\n\n    remove_review(state, data) {\n      var reviewId = data.reviewId;\n      var workoutId = data.workoutId;\n      var newReviews = [];\n\n      for (var i = 0; i < state.workouts.length; i++) {\n        if (state.workouts[i].id != workoutId) {\n          continue;\n        }\n\n        for (var j = 0; j < state.workouts[i].reviews.length; j++) {\n          if (state.workouts[i].reviews[j].id != reviewId) {\n            newReviews.push(state.workouts[i].reviews[j]);\n          }\n        }\n\n        state.workouts[i].reviews = newReviews;\n        break;\n      }\n    },\n\n    //\n    // User mutations\n    //\n    set_admin(state, admin) {\n      state.admin = admin;\n    },\n\n    set_token(state, token) {\n      state.token = token;\n      state.loggedIn = token ? true : false;\n    },\n\n    set_firstName(state, firstName) {\n      state.firstName = firstName;\n    },\n\n    //\n    // Workout mutations\n    //\n    set_workouts(state, workouts) {\n      state.workouts = workouts;\n    },\n\n    set_workout(state, workout) {\n      state.workout = workout;\n    }\n\n  },\n  actions: {\n    createReview: ({\n      commit\n    }, payload) => {\n      commit(\"add_review\", payload);\n    },\n    deleteReview: ({\n      commit\n    }, payload) => {\n      commit(\"remove_review\", payload);\n    },\n    //\n    // Workout Functions\n    //\n    read_workout: async ({\n      state,\n      commit\n    }, workoutId) => {\n      await axios.get(\"/workout/\" + workoutId, {\n        headers: {\n          \"X-Access-Token\": state.token\n        }\n      }).then(response => {\n        commit(\"set_workout\", response.data);\n      });\n    },\n    read_workouts: ({\n      commit\n    }) => {\n      axios.get(\"/workout\").then(response => {\n        commit(\"set_workouts\", response.data);\n      });\n    },\n    create_workout: ({\n      state,\n      dispatch\n    }, workoutData) => {\n      axios.post(\"/workout\", workoutData, {\n        headers: {\n          \"X-Access-Token\": state.token\n        }\n      }).then(response => {\n        dispatch(\"read_workouts\");\n      }).catch(error => {});\n    },\n    update_workout: ({\n      state,\n      commit\n    }, payload) => {\n      axios.put(\"/workout/\" + payload.id, payload.data, {\n        headers: {\n          \"X-Access-Token\": state.token\n        }\n      }).then(response => {\n        commit(\"set_workout\", response.data);\n      }).catch(error => {});\n    },\n    delete_workout: ({\n      state\n    }, id) => {\n      axios.delete(\"/workout/\" + id, {\n        headers: {\n          \"X-Access-Token\": state.token\n        }\n      }).then(response => {\n        router.push(\"/\");\n      }).catch(error => {});\n    },\n    //\n    // User Functions\n    //\n    register_user: ({\n      commit,\n      dispatch\n    }, userData) => {\n      axios.post(\"/user/register\", userData).then(response => {\n        commit(\"set_token\", response.data.token);\n        commit(\"set_firstName\", response.data.first_name);\n        localStorage.setItem(\"token\", response.data.token);\n        localStorage.setItem(\"firstName\", response.data.first_name);\n      }).catch(error => {});\n    },\n    login_user: ({\n      commit\n    }, userData) => {\n      axios.post(\"/user/login\", userData).then(response => {\n        commit(\"set_token\", response.data.token);\n        commit(\"set_firstName\", response.data.first_name);\n        localStorage.setItem(\"token\", response.data.token);\n        localStorage.setItem(\"firstName\", response.data.first_name);\n      }).catch(error => {});\n    },\n    update_admin: ({\n      commit\n    }, admin) => {\n      commit(\"set_admin\", admin);\n    },\n    logout_user: ({\n      commit\n    }) => {\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"firstName\");\n      commit(\"set_token\", null);\n      commit(\"set_firstName\", \"\");\n      commit(\"set_admin\", false);\n    }\n  }\n});",{"version":3,"sources":["/Users/JCHAN/Documents/cs191/GetUP/frontend/src/store.js"],"names":["Vue","Vuex","axios","router","use","Store","state","workouts","workout","token","localStorage","getItem","firstName","loggedIn","admin","mutations","add_review","data","review","workoutId","i","length","id","reviews","push","remove_review","reviewId","newReviews","j","set_admin","set_token","set_firstName","set_workouts","set_workout","actions","createReview","commit","payload","deleteReview","read_workout","get","headers","then","response","read_workouts","create_workout","dispatch","workoutData","post","catch","error","update_workout","put","delete_workout","delete","register_user","userData","first_name","setItem","login_user","update_admin","logout_user","removeItem"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEAH,GAAG,CAACI,GAAJ,CAAQH,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACI,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE,IADL;AAELC,IAAAA,OAAO,EAAE,IAFJ;AAGLC,IAAAA,KAAK,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAHF;AAILC,IAAAA,SAAS,EAAEF,YAAY,CAACC,OAAb,CAAqB,WAArB,CAJN;AAKLE,IAAAA,QAAQ,EAAEH,YAAY,CAACC,OAAb,CAAqB,OAArB,IAAgC,IAAhC,GAAuC,KAL5C;AAMLG,IAAAA,KAAK,EAAEJ,YAAY,CAACC,OAAb,CAAqB,OAArB,IAAgCD,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAhC,GAAgE;AANlE,GADqB;AAS5BI,EAAAA,SAAS,EAAE;AACTC,IAAAA,UAAU,CAACV,KAAD,EAAQW,IAAR,EAAc;AACtB,UAAIC,MAAM,GAAGD,IAAI,CAACC,MAAlB;AACA,UAAIC,SAAS,GAAGF,IAAI,CAACE,SAArB;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,KAAK,CAACC,QAAN,CAAec,MAAnC,EAA2CD,CAAC,EAA5C,EAAgD;AAC9C,YAAId,KAAK,CAACC,QAAN,CAAea,CAAf,EAAkBE,EAAlB,IAAwBH,SAA5B,EAAuC;AACrC;AACD;;AACDb,QAAAA,KAAK,CAACC,QAAN,CAAea,CAAf,EAAkBG,OAAlB,CAA0BC,IAA1B,CAA+BN,MAA/B;AACA;AACD;AACF,KAXQ;;AAYTO,IAAAA,aAAa,CAACnB,KAAD,EAAQW,IAAR,EAAc;AACzB,UAAIS,QAAQ,GAAGT,IAAI,CAACS,QAApB;AACA,UAAIP,SAAS,GAAGF,IAAI,CAACE,SAArB;AACA,UAAIQ,UAAU,GAAG,EAAjB;;AACA,WAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,KAAK,CAACC,QAAN,CAAec,MAAnC,EAA2CD,CAAC,EAA5C,EAAgD;AAC9C,YAAId,KAAK,CAACC,QAAN,CAAea,CAAf,EAAkBE,EAAlB,IAAwBH,SAA5B,EAAuC;AACrC;AACD;;AACD,aAAK,IAAIS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGtB,KAAK,CAACC,QAAN,CAAea,CAAf,EAAkBG,OAAlB,CAA0BF,MAA9C,EAAsDO,CAAC,EAAvD,EAA2D;AACzD,cAAItB,KAAK,CAACC,QAAN,CAAea,CAAf,EAAkBG,OAAlB,CAA0BK,CAA1B,EAA6BN,EAA7B,IAAmCI,QAAvC,EAAiD;AAC/CC,YAAAA,UAAU,CAACH,IAAX,CAAgBlB,KAAK,CAACC,QAAN,CAAea,CAAf,EAAkBG,OAAlB,CAA0BK,CAA1B,CAAhB;AACD;AACF;;AACDtB,QAAAA,KAAK,CAACC,QAAN,CAAea,CAAf,EAAkBG,OAAlB,GAA4BI,UAA5B;AACA;AACD;AACF,KA5BQ;;AA6BT;AACA;AACA;AACAE,IAAAA,SAAS,CAACvB,KAAD,EAAQQ,KAAR,EAAe;AACtBR,MAAAA,KAAK,CAACQ,KAAN,GAAcA,KAAd;AACD,KAlCQ;;AAmCTgB,IAAAA,SAAS,CAACxB,KAAD,EAAQG,KAAR,EAAe;AACtBH,MAAAA,KAAK,CAACG,KAAN,GAAcA,KAAd;AACAH,MAAAA,KAAK,CAACO,QAAN,GAAiBJ,KAAK,GAAG,IAAH,GAAU,KAAhC;AACD,KAtCQ;;AAuCTsB,IAAAA,aAAa,CAACzB,KAAD,EAAQM,SAAR,EAAmB;AAC9BN,MAAAA,KAAK,CAACM,SAAN,GAAkBA,SAAlB;AACD,KAzCQ;;AA0CT;AACA;AACA;AACAoB,IAAAA,YAAY,CAAC1B,KAAD,EAAQC,QAAR,EAAkB;AAC5BD,MAAAA,KAAK,CAACC,QAAN,GAAiBA,QAAjB;AACD,KA/CQ;;AAgDT0B,IAAAA,WAAW,CAAC3B,KAAD,EAAQE,OAAR,EAAiB;AAC1BF,MAAAA,KAAK,CAACE,OAAN,GAAgBA,OAAhB;AACD;;AAlDQ,GATiB;AA6D5B0B,EAAAA,OAAO,EAAE;AACPC,IAAAA,YAAY,EAAE,CAAC;AAAEC,MAAAA;AAAF,KAAD,EAAaC,OAAb,KAAyB;AACrCD,MAAAA,MAAM,CAAC,YAAD,EAAeC,OAAf,CAAN;AACD,KAHM;AAIPC,IAAAA,YAAY,EAAE,CAAC;AAAEF,MAAAA;AAAF,KAAD,EAAaC,OAAb,KAAyB;AACrCD,MAAAA,MAAM,CAAC,eAAD,EAAkBC,OAAlB,CAAN;AACD,KANM;AAOP;AACA;AACA;AACAE,IAAAA,YAAY,EAAE,OAAO;AAAEjC,MAAAA,KAAF;AAAS8B,MAAAA;AAAT,KAAP,EAA0BjB,SAA1B,KAAwC;AACpD,YAAMjB,KAAK,CACRsC,GADG,CACC,cAAcrB,SADf,EAC0B;AAC5BsB,QAAAA,OAAO,EAAE;AAAE,4BAAkBnC,KAAK,CAACG;AAA1B;AADmB,OAD1B,EAIHiC,IAJG,CAIEC,QAAQ,IAAI;AAChBP,QAAAA,MAAM,CAAC,aAAD,EAAgBO,QAAQ,CAAC1B,IAAzB,CAAN;AACD,OANG,CAAN;AAOD,KAlBM;AAmBP2B,IAAAA,aAAa,EAAE,CAAC;AAAER,MAAAA;AAAF,KAAD,KAAgB;AAC7BlC,MAAAA,KAAK,CAACsC,GAAN,CAAU,UAAV,EAAsBE,IAAtB,CAA2BC,QAAQ,IAAI;AACrCP,QAAAA,MAAM,CAAC,cAAD,EAAiBO,QAAQ,CAAC1B,IAA1B,CAAN;AACD,OAFD;AAGD,KAvBM;AAwBP4B,IAAAA,cAAc,EAAE,CAAC;AAAEvC,MAAAA,KAAF;AAASwC,MAAAA;AAAT,KAAD,EAAsBC,WAAtB,KAAsC;AACpD7C,MAAAA,KAAK,CACF8C,IADH,CACQ,UADR,EACoBD,WADpB,EACiC;AAC7BN,QAAAA,OAAO,EAAE;AAAE,4BAAkBnC,KAAK,CAACG;AAA1B;AADoB,OADjC,EAIGiC,IAJH,CAIQC,QAAQ,IAAI;AAChBG,QAAAA,QAAQ,CAAC,eAAD,CAAR;AACD,OANH,EAOGG,KAPH,CAOSC,KAAK,IAAI,CAAE,CAPpB;AAQD,KAjCM;AAkCPC,IAAAA,cAAc,EAAE,CAAC;AAAE7C,MAAAA,KAAF;AAAS8B,MAAAA;AAAT,KAAD,EAAoBC,OAApB,KAAgC;AAC9CnC,MAAAA,KAAK,CACFkD,GADH,CACO,cAAcf,OAAO,CAACf,EAD7B,EACiCe,OAAO,CAACpB,IADzC,EAC+C;AAC3CwB,QAAAA,OAAO,EAAE;AAAE,4BAAkBnC,KAAK,CAACG;AAA1B;AADkC,OAD/C,EAIGiC,IAJH,CAIQC,QAAQ,IAAI;AAChBP,QAAAA,MAAM,CAAC,aAAD,EAAgBO,QAAQ,CAAC1B,IAAzB,CAAN;AACD,OANH,EAOGgC,KAPH,CAOSC,KAAK,IAAI,CAAE,CAPpB;AAQD,KA3CM;AA4CPG,IAAAA,cAAc,EAAE,CAAC;AAAE/C,MAAAA;AAAF,KAAD,EAAYgB,EAAZ,KAAmB;AACjCpB,MAAAA,KAAK,CACFoD,MADH,CACU,cAAchC,EADxB,EAC4B;AACxBmB,QAAAA,OAAO,EAAE;AAAE,4BAAkBnC,KAAK,CAACG;AAA1B;AADe,OAD5B,EAIGiC,IAJH,CAIQC,QAAQ,IAAI;AAChBxC,QAAAA,MAAM,CAACqB,IAAP,CAAY,GAAZ;AACD,OANH,EAOGyB,KAPH,CAOSC,KAAK,IAAI,CAAE,CAPpB;AAQD,KArDM;AAsDP;AACA;AACA;AACAK,IAAAA,aAAa,EAAE,CAAC;AAAEnB,MAAAA,MAAF;AAAUU,MAAAA;AAAV,KAAD,EAAuBU,QAAvB,KAAoC;AACjDtD,MAAAA,KAAK,CACF8C,IADH,CACQ,gBADR,EAC0BQ,QAD1B,EAEGd,IAFH,CAEQC,QAAQ,IAAI;AAChBP,QAAAA,MAAM,CAAC,WAAD,EAAcO,QAAQ,CAAC1B,IAAT,CAAcR,KAA5B,CAAN;AACA2B,QAAAA,MAAM,CAAC,eAAD,EAAkBO,QAAQ,CAAC1B,IAAT,CAAcwC,UAAhC,CAAN;AACA/C,QAAAA,YAAY,CAACgD,OAAb,CAAqB,OAArB,EAA8Bf,QAAQ,CAAC1B,IAAT,CAAcR,KAA5C;AACAC,QAAAA,YAAY,CAACgD,OAAb,CAAqB,WAArB,EAAkCf,QAAQ,CAAC1B,IAAT,CAAcwC,UAAhD;AACD,OAPH,EAQGR,KARH,CAQSC,KAAK,IAAI,CAAE,CARpB;AASD,KAnEM;AAoEPS,IAAAA,UAAU,EAAE,CAAC;AAAEvB,MAAAA;AAAF,KAAD,EAAaoB,QAAb,KAA0B;AACpCtD,MAAAA,KAAK,CACF8C,IADH,CACQ,aADR,EACuBQ,QADvB,EAEGd,IAFH,CAEQC,QAAQ,IAAI;AAChBP,QAAAA,MAAM,CAAC,WAAD,EAAcO,QAAQ,CAAC1B,IAAT,CAAcR,KAA5B,CAAN;AACA2B,QAAAA,MAAM,CAAC,eAAD,EAAkBO,QAAQ,CAAC1B,IAAT,CAAcwC,UAAhC,CAAN;AACA/C,QAAAA,YAAY,CAACgD,OAAb,CAAqB,OAArB,EAA8Bf,QAAQ,CAAC1B,IAAT,CAAcR,KAA5C;AACAC,QAAAA,YAAY,CAACgD,OAAb,CAAqB,WAArB,EAAkCf,QAAQ,CAAC1B,IAAT,CAAcwC,UAAhD;AACD,OAPH,EAQGR,KARH,CAQSC,KAAK,IAAI,CAAE,CARpB;AASD,KA9EM;AA+EPU,IAAAA,YAAY,EAAE,CAAC;AAAExB,MAAAA;AAAF,KAAD,EAAatB,KAAb,KAAuB;AACnCsB,MAAAA,MAAM,CAAC,WAAD,EAActB,KAAd,CAAN;AACD,KAjFM;AAkFP+C,IAAAA,WAAW,EAAE,CAAC;AAAEzB,MAAAA;AAAF,KAAD,KAAgB;AAC3B1B,MAAAA,YAAY,CAACoD,UAAb,CAAwB,OAAxB;AACApD,MAAAA,YAAY,CAACoD,UAAb,CAAwB,WAAxB;AACA1B,MAAAA,MAAM,CAAC,WAAD,EAAc,IAAd,CAAN;AACAA,MAAAA,MAAM,CAAC,eAAD,EAAkB,EAAlB,CAAN;AACAA,MAAAA,MAAM,CAAC,WAAD,EAAc,KAAd,CAAN;AACD;AAxFM;AA7DmB,CAAf,CAAf","sourcesContent":["import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport axios from \"axios\";\nimport router from \"@/router\";\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    workouts: null,\n    workout: null,\n    token: localStorage.getItem(\"token\"),\n    firstName: localStorage.getItem(\"firstName\"),\n    loggedIn: localStorage.getItem(\"token\") ? true : false,\n    admin: localStorage.getItem(\"admin\") ? localStorage.getItem(\"admin\") : false\n  },\n  mutations: {\n    add_review(state, data) {\n      var review = data.review;\n      var workoutId = data.workoutId;\n      for (var i = 0; i < state.workouts.length; i++) {\n        if (state.workouts[i].id != workoutId) {\n          continue;\n        }\n        state.workouts[i].reviews.push(review);\n        break;\n      }\n    },\n    remove_review(state, data) {\n      var reviewId = data.reviewId;\n      var workoutId = data.workoutId;\n      var newReviews = [];\n      for (var i = 0; i < state.workouts.length; i++) {\n        if (state.workouts[i].id != workoutId) {\n          continue;\n        }\n        for (var j = 0; j < state.workouts[i].reviews.length; j++) {\n          if (state.workouts[i].reviews[j].id != reviewId) {\n            newReviews.push(state.workouts[i].reviews[j]);\n          }\n        }\n        state.workouts[i].reviews = newReviews;\n        break;\n      }\n    },\n    //\n    // User mutations\n    //\n    set_admin(state, admin) {\n      state.admin = admin;\n    },\n    set_token(state, token) {\n      state.token = token;\n      state.loggedIn = token ? true : false;\n    },\n    set_firstName(state, firstName) {\n      state.firstName = firstName;\n    },\n    //\n    // Workout mutations\n    //\n    set_workouts(state, workouts) {\n      state.workouts = workouts;\n    },\n    set_workout(state, workout) {\n      state.workout = workout;\n    }\n  },\n  actions: {\n    createReview: ({ commit }, payload) => {\n      commit(\"add_review\", payload);\n    },\n    deleteReview: ({ commit }, payload) => {\n      commit(\"remove_review\", payload);\n    },\n    //\n    // Workout Functions\n    //\n    read_workout: async ({ state, commit }, workoutId) => {\n      await axios\n        .get(\"/workout/\" + workoutId, {\n          headers: { \"X-Access-Token\": state.token }\n        })\n        .then(response => {\n          commit(\"set_workout\", response.data);\n        });\n    },\n    read_workouts: ({ commit }) => {\n      axios.get(\"/workout\").then(response => {\n        commit(\"set_workouts\", response.data);\n      });\n    },\n    create_workout: ({ state, dispatch }, workoutData) => {\n      axios\n        .post(\"/workout\", workoutData, {\n          headers: { \"X-Access-Token\": state.token }\n        })\n        .then(response => {\n          dispatch(\"read_workouts\");\n        })\n        .catch(error => {});\n    },\n    update_workout: ({ state, commit }, payload) => {\n      axios\n        .put(\"/workout/\" + payload.id, payload.data, {\n          headers: { \"X-Access-Token\": state.token }\n        })\n        .then(response => {\n          commit(\"set_workout\", response.data);\n        })\n        .catch(error => {});\n    },\n    delete_workout: ({ state }, id) => {\n      axios\n        .delete(\"/workout/\" + id, {\n          headers: { \"X-Access-Token\": state.token }\n        })\n        .then(response => {\n          router.push(\"/\");\n        })\n        .catch(error => {});\n    },\n    //\n    // User Functions\n    //\n    register_user: ({ commit, dispatch }, userData) => {\n      axios\n        .post(\"/user/register\", userData)\n        .then(response => {\n          commit(\"set_token\", response.data.token);\n          commit(\"set_firstName\", response.data.first_name);\n          localStorage.setItem(\"token\", response.data.token);\n          localStorage.setItem(\"firstName\", response.data.first_name);\n        })\n        .catch(error => {});\n    },\n    login_user: ({ commit }, userData) => {\n      axios\n        .post(\"/user/login\", userData)\n        .then(response => {\n          commit(\"set_token\", response.data.token);\n          commit(\"set_firstName\", response.data.first_name);\n          localStorage.setItem(\"token\", response.data.token);\n          localStorage.setItem(\"firstName\", response.data.first_name);\n        })\n        .catch(error => {});\n    },\n    update_admin: ({ commit }, admin) => {\n      commit(\"set_admin\", admin);\n    },\n    logout_user: ({ commit }) => {\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"firstName\");\n      commit(\"set_token\", null);\n      commit(\"set_firstName\", \"\");\n      commit(\"set_admin\", false);\n    }\n  }\n});\n"]}]}